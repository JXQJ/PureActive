// ***********************************************************************
// Assembly         : PureActive.Logger.Provider.Serilog
// Author           : SteveBu
// Created          : 10-22-2018
// License          : Licensed under MIT License, see https://github.com/PureActive/PureActive/blob/master/LICENSE
//
// Last Modified By : SteveBu
// Last Modified On : 11-20-2018
// ***********************************************************************
// <copyright file="ConfigurationBuilderExtensions.cs" company="BushChang Corporation">
//     © 2018 BushChang Corporation. All rights reserved.
// </copyright>
// <summary></summary>
// ***********************************************************************
using System.Collections.Generic;
using Microsoft.Extensions.Configuration;
using Microsoft.Extensions.Logging;
using PureActive.Logger.Provider.Serilog.Types;
using Serilog.Events;

namespace PureActive.Logger.Provider.Serilog.Configuration
{
    /// <summary>
    /// Class ConfigurationBuilderExtensions.
    /// </summary>
    /// <autogeneratedoc />
    public static class ConfigurationBuilderExtensions
    {
        //"Serilog": {
        //    "MinimumLevel": {
        //        "Default": "Debug",
        //        "Override": {
        //            "Microsoft": "Information",
        //            "System": "Warning"
        //        }
        //    }

        /// <summary>
        /// Adds the logger settings.
        /// </summary>
        /// <param name="config">The configuration.</param>
        /// <param name="initialMinimumLevel">The initial minimum level.</param>
        /// <returns>IConfigurationBuilder.</returns>
        /// <autogeneratedoc />
        public static IConfigurationBuilder AddLoggerSettings(this IConfigurationBuilder config,
            LogEventLevel initialMinimumLevel)
        {
            config.AddInMemoryCollection(
                new Dictionary<string, string>
                {
                    ["Serilog:MinimumLevel:Default"] = initialMinimumLevel.ToString(),
                    ["Serilog:MinimumLevel:Override:Microsoft"] = "Information",
                    ["Serilog:MinimumLevel:Override:System"] = "Warning"
                }
            );

            return config;
        }

        /// <summary>
        /// Adds the logger settings.
        /// </summary>
        /// <param name="config">The configuration.</param>
        /// <param name="initialMinimumLevel">The initial minimum level.</param>
        /// <returns>IConfigurationBuilder.</returns>
        /// <autogeneratedoc />
        public static IConfigurationBuilder AddLoggerSettings(this IConfigurationBuilder config,
            LogLevel initialMinimumLevel) =>
            AddLoggerSettings(config, SerilogLogLevel.MsftToSerilogLogLevel(initialMinimumLevel));
    }
}